<?xml version="1.0" encoding="UTF-8"?>
<knimeNode icon="./Carovex.png" type="Manipulator"
    xmlns="http://knime.org/node/v4.1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://knime.org/node/v4.1 http://knime.org/node/v4.1.xsd">

    <name>Fixtures Selector</name>

    <shortDescription>
        Query basic fixture information from the Football API
    </shortDescription>

    <fullDescription>
        <intro>
            <p>
            Lightweight node for querying basic fixture data (matches/games) from the Football API.
            This node returns essential fixture information only, making it ideal for browsing, filtering,
            and selecting fixtures for further analysis.
            </p>
            <p>
            Unlike the full Fixtures node, this selector does NOT retrieve expensive additional data like
            statistics, lineups, player stats, or events. This makes queries faster and more efficient for
            browsing large fixture sets.
            </p>
            <p>
            The output can be filtered using KNIME's Row Filter or other filtering nodes, then fed into
            the Fixtures Details node to retrieve comprehensive data for only the selected fixtures.
            </p>
            <p>
            Supports multiple query types including by league, date range, team, fixture ID, live fixtures,
            and head-to-head comparisons.
            </p>
        </intro>

        <option name="Query Type">
            Select how to query fixtures:
            <ul>
                <li><b>By League/Season:</b> Get all fixtures for a specific league and season</li>
                <li><b>By Date Range:</b> Get fixtures within a date range (requires season)</li>
                <li><b>By Team:</b> Get all fixtures for a specific team in a season</li>
                <li><b>By Fixture ID:</b> Get details for a specific fixture</li>
                <li><b>Live Fixtures:</b> Get all currently live fixtures</li>
                <li><b>Head to Head:</b> Compare past encounters between two teams</li>
            </ul>
        </option>

        <option name="League">
            Select the league to query. Populated from reference data input.
            Required for League/Season, Date Range, and Head to Head queries.
        </option>

        <option name="Season">
            Select the season year. Populated from reference data input.
            Required for most query types.
        </option>

        <option name="Team">
            Select team for Team queries, or optional team filter for League/Season queries.
            For Head to Head queries, this is Team 1.
        </option>

        <option name="Team 2">
            For Head to Head queries only. Select the second team to compare.
        </option>

        <option name="From Date / To Date">
            For date range queries, specify the date range in YYYY-MM-DD or YYYY/MM/DD format.
            To date is optional (if omitted, queries from start date only).
        </option>

        <option name="Fixture ID">
            For fixture ID queries, specify the numeric fixture ID or comma-separated list of IDs.
        </option>

        <option name="Status Filter">
            Optional filter by fixture status:
            <ul>
                <li>NS = Not Started</li>
                <li>FT = Finished</li>
                <li>LIVE = In Progress</li>
                <li>1H, HT, 2H = First Half, Halftime, Second Half</li>
                <li>PST, CANC, ABD = Postponed, Cancelled, Abandoned</li>
            </ul>
        </option>
    </fullDescription>

    <ports>
        <inPort index="0" name="API Connection">
            API-Sports connection from the API-Connector node
        </inPort>
        <inPort index="1" name="Reference Data">
            Reference data (leagues, seasons, teams) from the Reference Data Loader node
        </inPort>
        <outPort index="0" name="Basic Fixture Info">
            Table containing basic fixture data with 15 columns: Fixture_ID, Date, Timestamp, Venue_Name, Status,
            League_ID, League_Name, Season, Round, Home_Team_ID, Home_Team_Name, Away_Team_ID, Away_Team_Name,
            Goals_Home, Goals_Away.

            This output can be filtered and fed into the Fixtures Details node to retrieve comprehensive statistics,
            lineups, player stats, and events for selected fixtures only.
        </outPort>
    </ports>
</knimeNode>
